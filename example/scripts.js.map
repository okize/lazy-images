{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","example/example.js","lazy-images.js"],"names":[],"mappings":"AAAA;ACAA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scripts.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var lazy = require('../lazy-images')('image-thumbnail');\n","function lazy(selector) {\n\n  'use strict';\n\n  var imageInView, imageLoaded, loadImage;\n\n  // replace empty image source with data-src value\n  loadImage = function(el, cb) {\n    var img, src;\n    img = new Image();\n    src = el.getAttribute('data-src');\n    img.onload = function() {\n      if (!imageLoaded(el)) {\n        el.src = src;\n        el.className = el.getAttribute('class') + ' loaded';\n        if (cb) {\n          return cb();\n        } else {\n          return null;\n        }\n      }\n    };\n    img.src = src;\n    return img;\n  };\n\n  // check if image has a class called 'loaded'\n  imageLoaded = function(el) {\n    return el.className.indexOf('loaded') > -1;\n  };\n\n  // check if image is visible in viewport\n  imageInView = function(el) {\n    var rect;\n    rect = el.getBoundingClientRect();\n    return rect.top >= 0 && rect.left >= 0 && rect.top <= window.innerHeight;\n  };\n\n  // event handler for scrolling\n  return window.addEventListener('load', function() {\n    var images, processScroll;\n    images = document.querySelectorAll(\"img.\" + (selector || 'lazy'));\n    processScroll = function() {\n      var image, results = [];\n      for (var i = 0, len = images.length; i < len; i++) {\n        image = images[i];\n        if (imageInView(image)) {\n          results.push(loadImage(image));\n        } else {\n          results.push(void 0);\n        }\n      }\n      return results;\n    };\n    processScroll();\n    return window.addEventListener('scroll', processScroll, false);\n  });\n\n}\n\nexports = module.exports = lazy;\n"]}